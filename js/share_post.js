$(document).ready(function() {
    var play_img_url = "data:image/png;base64,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";
    var pause_img_url = "../image/pause.png";
    
    function getQueryString(name) {
        const reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
        const r = window.location.search.substr(1).match(reg);
        if (r != null) {
            return unescape(r[2]);
        }
        return null;
    }

    var requestData = function() {
        $.ajax({
            url: 'http://test-phpadmin.seer-global.cn/api/user/share/post',
            type: 'get',
            data: 'sharekey=' + getQueryString('sharekey'),
            dataType: 'json',
            success: function(result) {
                if(result.code == 0) {
                    showData(result.data.statInfo);
                } else {
                    alert(result.msg);
                }
            }
        });
    };

    var showData = function(data) {
        $(".name").html(data.username);
        $(".assets").css("background-image", "url(" + data.avatar + ")");
        $(".play").css("background-image", "url(" + play_img_url + ")");
        $(".audio").attr("src", data.mp3_file);

        var html = "";
        for(var i = 0, len = data.score; i < len; i++) {
            html += "<span class='star'></span>"
        }
        $(".stars").html(html);
        $(".play", ".assets").bind("click", function() {
            if($(".audio")[0].paused) {
                $(".audio")[0].play();
                $(".play").css("background-image", "url(" + pause_img_url + ")");
                return;
            }
            $(".audio")[0].pause();
            $(".play").css("background-image", "url(" + play_img_url + ")");
        });
    };

    requestData();
});